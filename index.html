<section id="jogo-nautilus" style="text-align:center; margin: 40px 0;">
  <h2 style="font-family: 'Poppins', sans-serif; color: #0077b6; margin-bottom: 10px;">
     Limpe as √Åguas com o Nautilus-X!
  </h2>

  <button id="startBtn" style="padding:10px 20px; font-size:16px; margin-top:20px; background:#0077b6; color:white; border:none; border-radius:10px; cursor:pointer;">
    Come√ßar Jogo
  </button>

  <canvas id="gameCanvas" width="400" height="500" style="border-radius: 20px; background: linear-gradient(#a8e6ff, #d6f7ff); box-shadow: 0 0 15px rgba(0,0,0,0.2); display:none;"></canvas>
  <p id="gameOverMsg" style="display:none; font-family: 'Poppins', sans-serif; color:#023e8a; font-size:18px; margin-top: 15px;"></p>
  <button id="restartBtn" style="display:none; background:#0077b6; color:white; border:none; padding:10px 20px; border-radius:10px; font-family:'Poppins',sans-serif; cursor:pointer;">Jogar Novamente</button>

  <audio id="bubbleSound" src="https://cdn.pixabay.com/download/audio/2022/03/22/audio_05b5db4e44.mp3?filename=water-bubble-112941.mp3"></audio>
  <audio id="bgMusic" src="https://cdn.pixabay.com/download/audio/2023/03/20/audio_7077a650d1.mp3?filename=relaxing-water-sound-14340.mp3" loop></audio>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    // Player
    const player = { x: 180, y: 440, width: 40, height: 40, speed: 8 };

    // Bolhas
    const bubbles = [];
    let score = 0;
    let missed = 0;
    let gameOver = false;
    let speedMultiplier = 1;

    // √Åudio
    const bubbleSound = document.getElementById("bubbleSound");
    const bgMusic = document.getElementById("bgMusic");
    bubbleSound.volume = 0.2;
    bgMusic.volume = 0.3;

    // Player image placeholder
    const playerImg = new Image();
    playerImg.src = "https://www.google.com/url?sa=i&url=https%3A%2F%2Fpt.pngtree.com%2Ffreepng%2Fpixel-art-character-boy-waving-his-hand_7325575.html&psig=AOvVaw3D-_ExOhL1bZgh08ZM8usf&ust=1761487448108000&source=images&cd=vfe&opi=89978449&ved=0CBUQjRxqFwoTCKjon6DCv5ADFQAAAAAdAAAAABAE"; // troque pela sua imagem se quiser

    function drawPlayer() {
      if (playerImg.complete) {
        ctx.drawImage(playerImg, player.x, player.y, 50, 50);
      } else {
        // fallback simples
        ctx.fillStyle = "#ffcad4";
        ctx.beginPath();
        ctx.arc(player.x + 20, player.y + 10, 10, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = "#f4a261";
        ctx.fillRect(player.x + 10, player.y + 20, 20, 20);
        ctx.fillStyle = "#0077b6";
        ctx.fillRect(player.x + 30, player.y + 25, 25, 5);
      }
    }

    function drawBubble(bubble) {
      const gradient = ctx.createRadialGradient(bubble.x, bubble.y, bubble.size/4, bubble.x, bubble.y, bubble.size);
      gradient.addColorStop(0, "rgba(255, 255, 255, 0.8)");
      gradient.addColorStop(0.5, "rgba(0, 150, 199, 0.6)");
      gradient.addColorStop(1, "rgba(0, 150, 199, 0.3)");

      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(bubble.x, bubble.y, bubble.size, 0, Math.PI * 2);
      ctx.fill();
    }

    function drawScore() {
      ctx.fillStyle = "#023e8a";
      ctx.font = "16px Poppins";
      ctx.fillText(`üíß Pontos: ${score} | ‚ùå Perdidos: ${missed}`, 10, 20);
    }

    function update() {
      if (gameOver) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      drawPlayer();
      drawScore();

      // Criar bolhas
      if (Math.random() < 0.05 * speedMultiplier) {
        bubbles.push({ x: Math.random() * 380 + 10, y: 0, size: 8 + Math.random() * 7, speed: 2 * speedMultiplier });
      }

      for (let i = 0; i < bubbles.length; i++) {
        const b = bubbles[i];
        b.y += b.speed;
        b.x += Math.sin(b.y / 20) * 1;
        drawBubble(b);

        if (b.y > player.y && b.x > player.x && b.x < player.x + player.width + 30) {
          bubbles.splice(i, 1);
          score++;
          bubbleSound.play();
          if (score % 10 === 0) speedMultiplier += 0.2;
          i--;
        } else if (b.y > 500) {
          bubbles.splice(i, 1);
          missed++;
          i--;
        }
      }

      if (missed >= 5) {
        endGame();
      } else {
        requestAnimationFrame(update);
      }
    }

    function endGame() {
      gameOver = true;
      bgMusic.pause();
      document.getElementById("gameOverMsg").style.display = "block";
      document.getElementById("restartBtn").style.display = "inline-block";
      document.getElementById("gameOverMsg").innerHTML = `üåä Voc√™ ajudou a limpar as √°guas!<br>Pontua√ß√£o final: <b>${score}</b>`;
    }

    function restartGame() {
      score = 0;
      missed = 0;
      gameOver = false;
      speedMultiplier = 1;
      bubbles.length = 0;
      document.getElementById("gameOverMsg").style.display = "none";
      document.getElementById("restartBtn").style.display = "none";
      update();
      bgMusic.currentTime = 0;
      bgMusic.play();
    }

    document.getElementById("restartBtn").addEventListener("click", restartGame);

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft" && player.x > 0) player.x -= player.speed;
      if (e.key === "ArrowRight" && player.x < canvas.width - player.width - 20) player.x += player.speed;
    });

    // Bot√£o iniciar
    document.getElementById("startBtn").addEventListener("click", () => {
      document.getElementById("startBtn").style.display = "none";
      canvas.style.display = "block";
      bgMusic.play();
      update();
    });

  </script>
</section>




