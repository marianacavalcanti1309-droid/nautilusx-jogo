<section id="jogo-nautilus" style="text-align:center; margin: 20px 0;">
  <h2 style="font-family: 'Poppins', sans-serif; color: #0077b6; margin-bottom: 10px;">
     Limpe as √Åguas com o Nautilus-X!
  </h2>

  <canvas id="gameCanvas" width="400" height="500" style="border-radius: 20px; background: linear-gradient(#a8e6ff, #d6f7ff); box-shadow: 0 0 15px rgba(0,0,0,0.2);"></canvas>

  <div style="margin-top: 10px;">
    <button id="leftBtn" style="padding:15px; margin-right:10px; font-size:18px;">‚¨ÖÔ∏è</button>
    <button id="rightBtn" style="padding:15px; font-size:18px;">‚û°Ô∏è</button>
  </div>

  <p id="gameOverMsg" style="display:none; font-family: 'Poppins', sans-serif; color:#023e8a; font-size:18px; margin-top: 15px;"></p>
  <button id="restartBtn" style="display:none; background:#0077b6; color:white; border:none; padding:10px 20px; border-radius:10px; font-family:'Poppins',sans-serif; cursor:pointer;">Jogar Novamente</button>

  <audio id="bubbleSound" src="https://cdn.pixabay.com/download/audio/2022/03/22/audio_05b5db4e44.mp3?filename=water-bubble-112941.mp3"></audio>
  <audio id="bgMusic" src="https://cdn.pixabay.com/download/audio/2023/03/20/audio_7077a650d1.mp3?filename=relaxing-water-sound-14340.mp3" loop></audio>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const player = { x: 180, y: 440, width: 40, height: 40, speed: 8 };
    const bubbles = [];
    let score = 0;
    let missed = 0;
    let gameOver = false;
    let speedMultiplier = 1;

    const bubbleSound = document.getElementById("bubbleSound");
    const bgMusic = document.getElementById("bgMusic");
    bubbleSound.volume = 0.2;
    bgMusic.volume = 0.3;

    // üîπ Bonequinho fofo detalhado
    function drawPlayer() {
      ctx.fillStyle = "#f4a261";
      ctx.beginPath();
      ctx.ellipse(player.x + 20, player.y + 30, 15, 20, 0, 0, Math.PI*2);
      ctx.fill();

      ctx.fillStyle = "#ffcad4";
      ctx.beginPath();
      ctx.arc(player.x + 20, player.y + 10, 10, 0, Math.PI*2);
      ctx.fill();

      ctx.fillStyle = "#023e8a";
      ctx.beginPath();
      ctx.arc(player.x + 16, player.y + 8, 2, 0, Math.PI*2);
      ctx.arc(player.x + 24, player.y + 8, 2, 0, Math.PI*2);
      ctx.fill();

      ctx.strokeStyle = "#023e8a";
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.arc(player.x + 20, player.y + 12, 5, 0, Math.PI);
      ctx.stroke();

      ctx.fillStyle = "#0077b6";
      ctx.fillRect(player.x + 30, player.y + 25, 25, 5);
    }

    // üîπ Bolhas fofinhas
    function drawBubble(bubble) {
      const gradient = ctx.createRadialGradient(bubble.x, bubble.y, bubble.size/4, bubble.x, bubble.y, bubble.size);
      gradient.addColorStop(0,"rgba(255,255,255,0.8)");
      gradient.addColorStop(0.5,"rgba(0,150,199,0.6)");
      gradient.addColorStop(1,"rgba(0,150,199,0.3)");

      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(bubble.x, bubble.y, bubble.size, 0, Math.PI*2);
      ctx.fill();
    }

    function drawScore() {
      ctx.fillStyle = "#023e8a";
      ctx.font = "16px Poppins";
      ctx.fillText(`üíß Pontos: ${score} | ‚ùå Perdidos: ${missed}`, 10, 20);
    }

    function update() {
      if (gameOver) return;

      ctx.clearRect(0,0,canvas.width,canvas.height);

      drawPlayer();
      drawScore();

      if (Math.random() < 0.02 * speedMultiplier) {
        bubbles.push({ x: Math.random()*380 + 10, y:0, size:8 + Math.random()*7, speed:2 * speedMultiplier });
      }

      for (let i=0;i<bubbles.length;i++){
        const b = bubbles[i];
        b.y += b.speed;
        b.x += Math.sin(b.y/20)*1;
        drawBubble(b);

        if(b.y > player.y && b.x > player.x && b.x < player.x + player.width + 30){
          bubbles.splice(i,1);
          score++;
          bubbleSound.play();
          if(score%10===0)speedMultiplier+=0.2;
          i--;
        } else if(b.y>500){
          bubbles.splice(i,1);
          missed++;
          i--;
        }
      }

      if(missed>=5){
        endGame();
      } else requestAnimationFrame(update);
    }

    function endGame(){
      gameOver=true;
      bgMusic.pause();
      document.getElementById("gameOverMsg").style.display="block";
      document.getElementById("restartBtn").style.display="inline-block";
      document.getElementById("gameOverMsg").innerHTML=`üåä Voc√™ ajudou a limpar as √°guas!<br>Pontua√ß√£o final: <b>${score}</b>`;
    }

    function restartGame(){
      score=0; missed=0; gameOver=false; speedMultiplier=1; bubbles.length=0;
      document.getElementById("gameOverMsg").style.display="none";
      document.getElementById("restartBtn").style.display="none";
      update();
      bgMusic.currentTime=0;
      bgMusic.play();
    }

    document.getElementById("restartBtn").addEventListener("click",restartGame);

    // Controles teclado
    document.addEventListener("keydown",(e)=>{
      if(e.key==="ArrowLeft" && player.x>0) player.x-=player.speed;
      if(e.key==="ArrowRight" && player.x<canvas.width-player.width-20) player.x+=player.speed;
      if(!gameOver && bgMusic.paused) bgMusic.play();
    });

    // Controles touch para celular
    document.getElementById("leftBtn").addEventListener("touchstart",()=>{ player.x-=player.speed; if(bgMusic.paused) bgMusic.play(); });
    document.getElementById("rightBtn").addEventListener("touchstart",()=>{ player.x+=player.speed; if(bgMusic.paused) bgMusic.play(); });

    update();
  </script>
</section>





